- defaults:
    link:
      force: false
      create: true
      relink: true

# Create directories
- create:
    - ~/github

# Clone Github projects
- shell:
    - [git clone https://github.com/kelvins/neovim-config ~/.config/nvim]
    - [git clone --depth 1 https://github.com/wbthomason/packer.nvim ~/.local/share/nvim/site/pack/packer/start/packer.nvim]

# Install essentials
- shell:
    - [sudo apt update, Update the package index]
    - [sudo apt install -y build-essential, Meta-package to build dependencies]
    - [sudo apt install -y libssl-dev openssl, SSL/TLS]
    - [sudo apt install -y liblzma-dev libbz2-dev zlib1g-dev, Compression libraries]
    - [sudo apt install -y curl, Client URL]
    - [sudo apt install -y tree, Tree visualization]
    - [sudo apt install -y htop, Iteractive process viewer]
    - [sudo apt install -y ack, Source code search tool]
    - [sudo apt install -y tig, Text-mode interface for Git]
    - [sudo apt install -y npm, Node package manager]

# Install dev environment
- shell:
    # Terminator
    - [sudo apt install -y terminator, Terminal emulator]
    # ZSH
    - [sudo apt install -y zsh, Z-Shell]
    - [chsh -s /bin/zsh, Change default shell]
    # oh-my-zsh
    - [sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)", Oh-my-zsh]
    # Python
    - [sudo apt install -y python3-pip python3-dev, Python development]
    - [/bin/bash -c "$(curl https://pyenv.run)", Python virtual environments]
    # Golang
    - [sudo snap install go --classic, Golang]
    # Neovim
    - [sudo snap install --stable nvim --classic, Neovim]

# Install apps
- shell:
    # Insomnia
    - [sudo snap install insomnia, API tool]
    # kubectl
    - [curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"]
    - [sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl, Installing kubectl]
    # Flameshot
    - [sudo apt install -y flameshot, Screenshot tool]
    # GIMP
    - [sudo apt install -y gimp, GNU Image Manipulation Program]
    # Spotify
    - [sudo snap install spotify, Spotify]
    # Slack
    - [sudo snap install slack, Slack]

- link:
    ~/.gitconfig: .gitconfig
    ~/.vimrc: .vimrc
    ~/.zshrc: .zshrc
    ~/.k9s/config.yml: .k9s/config.yml
    ~/.oh-my-zsh/themes:
      glob: true
      path: .oh-my-zsh/themes/*
    ~/.config/terminator/config: .config/terminator/config
